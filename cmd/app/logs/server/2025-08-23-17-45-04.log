{"level":"info","time":"2025-08-23T17:45:04.756+0800","caller":"config/config.go:102","msg":"加载配置文件","config_name":"config.dev"}
{"level":"info","time":"2025-08-23T17:45:04.756+0800","caller":"config/config.go:110","msg":"配置文件搜索路径","paths":["config/","../config/","../../config/"]}
{"level":"info","time":"2025-08-23T17:45:04.759+0800","caller":"config/config.go:138","msg":"加载配置文件成功","config_file":"B:\\projects\\golang\\chatLion\\config\\config.dev.yaml","environment":""}
{"level":"info","time":"2025-08-23T17:45:04.778+0800","caller":"dao/db.go:44","msg":"数据库连接池配置成功","max_idle_conns":10,"max_open_conns":100,"conn_max_lifetime":0.0000036}
{"level":"info","time":"2025-08-23T17:45:04.779+0800","caller":"app/main.go:39","msg":"数据库初始化成功"}
{"level":"info","time":"2025-08-23T17:45:04.790+0800","caller":"dao/redis.go:45","msg":"Redis连接成功","addr":"localhost:6379","db":0,"pool_size":100,"min_idle_conns":10}
{"level":"info","time":"2025-08-23T17:45:04.801+0800","caller":"app/main.go:45","msg":"Redis初始化成功"}
{"level":"info","time":"2025-08-23T17:45:04.813+0800","caller":"dao/kafak.go:56","msg":"Kafka客户端初始化成功"}
{"level":"info","time":"2025-08-23T17:45:04.813+0800","caller":"app/main.go:52","msg":"Kafka初始化成功"}
{"level":"info","time":"2025-08-23T17:45:05.044+0800","caller":"router/router.go:105","msg":"CORS配置完成","allowed_origins":["http://localhost:3000","http://127.0.0.1:3000","http://localhost:8081","http://127.0.0.1:8081","http://localhost:8081","http://localhost:8080","http://localhost:8080/"]}
{"level":"info","time":"2025-08-23T17:45:05.045+0800","caller":"router/router.go:77","msg":"路由组初始化完成","groupCount":12,"groups":["group","comment","server","health","monitor","moment","profile","stats","user","webSocket","friend","message"]}
{"level":"info","time":"2025-08-23T17:45:05.045+0800","caller":"router/router.go:117","msg":"JWT中间件配置完成","protected_groups":["friend","group","monitor"]}
{"level":"info","time":"2025-08-23T17:45:05.045+0800","caller":"router/router.go:163","msg":"API路由注册完成"}
{"level":"info","time":"2025-08-23T17:45:05.045+0800","caller":"router/router.go:43","msg":"Web引擎初始化完成"}
{"level":"info","time":"2025-08-23T17:45:05.050+0800","caller":"app/main.go:65","msg":"Kafka消费者服务启动成功"}
{"level":"info","time":"2025-08-23T17:45:05.050+0800","caller":"service/kafka_consumer.go:86","msg":"Kafka消费者服务启动成功","topics":["chat-messages","user-events","group-messages"]}
{"level":"info","time":"2025-08-23T17:45:05.050+0800","caller":"router/router.go:54","msg":"启动Web服务器","addr":":9922"}
{"level":"info","time":"2025-08-23T17:45:05.050+0800","caller":"service/worker_house.go:233","msg":"WorkerHouse初始化完成","initialWorkers":10,"maxWorkers":20,"threshold":150}
{"level":"info","time":"2025-08-23T17:45:20.098+0800","caller":"service/user.go:43","msg":"缓存不存在，从数据库查询","key":"user:info:7dc1adea-72f4-3c27-a887-fd766c4eb44b"}
{"level":"info","time":"2025-08-23T17:45:20.123+0800","caller":"service/worker_house.go:63","msg":"取出一个工作者","workerID":0,"taskCount":1}
{"level":"info","time":"2025-08-23T17:45:20.139+0800","caller":"service/kafka_consumer.go:185","msg":"处理用户事件","user_id":"7dc1adea-72f4-3c27-a887-fd766c4eb44b","event_type":"user_online"}
{"level":"info","time":"2025-08-23T17:45:20.139+0800","caller":"service/kafka_consumer.go:193","msg":"用户上线","user_id":"7dc1adea-72f4-3c27-a887-fd766c4eb44b"}
{"level":"info","time":"2025-08-23T17:45:20.151+0800","caller":"service/friend.go:134","msg":"缓存未命中"}
{"level":"info","time":"2025-08-23T17:45:23.465+0800","caller":"service/user.go:43","msg":"缓存不存在，从数据库查询","key":"user:info:3cf6bf68-e81c-3f2d-99d9-5b062e1a5717"}
{"level":"info","time":"2025-08-23T17:45:23.493+0800","caller":"service/worker_house.go:63","msg":"取出一个工作者","workerID":1,"taskCount":1}
{"level":"info","time":"2025-08-23T17:45:23.502+0800","caller":"service/kafka_consumer.go:185","msg":"处理用户事件","user_id":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717","event_type":"user_online"}
{"level":"info","time":"2025-08-23T17:45:23.502+0800","caller":"service/kafka_consumer.go:193","msg":"用户上线","user_id":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717"}
{"level":"info","time":"2025-08-23T17:45:23.538+0800","caller":"service/friend.go:134","msg":"缓存未命中"}
{"level":"info","time":"2025-08-23T17:50:42.226+0800","caller":"service/kafka_consumer.go:213","msg":"处理群组消息事件","group_id":"43f1791d-15f1-3148-aeac-49c099b2d1dd","event_type":"group_message"}
{"level":"info","time":"2025-08-23T17:50:42.257+0800","caller":"service/worker.go:410","msg":"发送群聊消息","to":"7dc1adea-72f4-3c27-a887-fd766c4eb44b","workerID":0}
{"level":"info","time":"2025-08-23T17:58:28.509+0800","caller":"service/kafka_consumer.go:213","msg":"处理群组消息事件","group_id":"43f1791d-15f1-3148-aeac-49c099b2d1dd","event_type":"group_message"}
{"level":"info","time":"2025-08-23T17:58:28.550+0800","caller":"service/worker.go:410","msg":"发送群聊消息","to":"7dc1adea-72f4-3c27-a887-fd766c4eb44b","workerID":0}
{"level":"info","time":"2025-08-23T17:58:32.942+0800","caller":"service/friend.go:171","msg":"缓存命中"}
{"level":"info","time":"2025-08-23T17:59:29.766+0800","caller":"service/friend.go:171","msg":"缓存命中"}
{"level":"info","time":"2025-08-23T17:59:48.128+0800","caller":"service/client.go:53","msg":"client disconnected normally","uuid":"7dc1adea-72f4-3c27-a887-fd766c4eb44b","error":"websocket: close 1001 (going away)"}
{"level":"info","time":"2025-08-23T17:59:48.134+0800","caller":"service/kafka_consumer.go:185","msg":"处理用户事件","user_id":"7dc1adea-72f4-3c27-a887-fd766c4eb44b","event_type":"user_offline"}
{"level":"info","time":"2025-08-23T17:59:48.134+0800","caller":"service/kafka_consumer.go:196","msg":"用户下线","user_id":"7dc1adea-72f4-3c27-a887-fd766c4eb44b"}
{"level":"info","time":"2025-08-23T17:59:48.135+0800","caller":"service/worker.go:339","msg":"客户端连接已清理","uuid":"7dc1adea-72f4-3c27-a887-fd766c4eb44b"}
{"level":"info","time":"2025-08-23T17:59:48.372+0800","caller":"service/worker_house.go:63","msg":"取出一个工作者","workerID":2,"taskCount":1}
{"level":"info","time":"2025-08-23T17:59:48.379+0800","caller":"service/kafka_consumer.go:185","msg":"处理用户事件","user_id":"7dc1adea-72f4-3c27-a887-fd766c4eb44b","event_type":"user_online"}
{"level":"info","time":"2025-08-23T17:59:48.379+0800","caller":"service/kafka_consumer.go:193","msg":"用户上线","user_id":"7dc1adea-72f4-3c27-a887-fd766c4eb44b"}
{"level":"info","time":"2025-08-23T17:59:48.387+0800","caller":"service/friend.go:171","msg":"缓存命中"}
{"level":"info","time":"2025-08-23T17:59:48.393+0800","caller":"service/friend.go:171","msg":"缓存命中"}
{"level":"info","time":"2025-08-23T17:59:56.424+0800","caller":"service/client.go:53","msg":"client disconnected normally","uuid":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717","error":"websocket: close 1001 (going away)"}
{"level":"info","time":"2025-08-23T17:59:56.432+0800","caller":"service/kafka_consumer.go:185","msg":"处理用户事件","user_id":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717","event_type":"user_offline"}
{"level":"info","time":"2025-08-23T17:59:56.433+0800","caller":"service/kafka_consumer.go:196","msg":"用户下线","user_id":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717"}
{"level":"info","time":"2025-08-23T17:59:56.434+0800","caller":"service/worker.go:339","msg":"客户端连接已清理","uuid":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717"}
{"level":"info","time":"2025-08-23T17:59:56.729+0800","caller":"service/worker_house.go:63","msg":"取出一个工作者","workerID":3,"taskCount":1}
{"level":"info","time":"2025-08-23T17:59:56.736+0800","caller":"service/kafka_consumer.go:185","msg":"处理用户事件","user_id":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717","event_type":"user_online"}
{"level":"info","time":"2025-08-23T17:59:56.736+0800","caller":"service/kafka_consumer.go:193","msg":"用户上线","user_id":"3cf6bf68-e81c-3f2d-99d9-5b062e1a5717"}
{"level":"info","time":"2025-08-23T17:59:56.744+0800","caller":"service/friend.go:171","msg":"缓存命中"}
{"level":"info","time":"2025-08-23T17:59:56.756+0800","caller":"service/friend.go:171","msg":"缓存命中"}
